!function(e){function t(t){for(var i,l,c=t[0],s=t[1],a=t[2],h=0,p=[];h<c.length;h++)l=c[h],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,a||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},r={0:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var u=s;o.push([21,1]),n()}({21:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var i,r=n(1),o=n.n(r),l=n(10),c=n.n(l),s=n(20),a=n(12),u=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t){var n=e.call(this,t)||this;return n._cellRenderer=function(e){var t=e.index,i=e.key,o=e.parent,l=e.style,c=n.props.childElementFunc;return r.createElement(a.b,{cache:n._cache,index:t,key:i,parent:o},(function(){return c(t,l)}))},n._renderMasonry=function(e){var t=e.width,i=n.props,o=i.height,l=i.cellCount;return n._width=t,n._calculateColumnCount(),n._initCellPositioner(),r.createElement(a.d,{cellCount:l,cellMeasurerCache:n._cache,cellPositioner:n._cellPositioner,cellRenderer:n._cellRenderer,height:o,ref:function(e){n._masonry=e},width:t})},n._resetCellPositioner=function(){var e=n.props.columnWidth;n._cellPositioner.reset({columnCount:n._columnCount,columnWidth:e,spacer:10})},n._onResize=function(e){var t=e.width;n._width=t,n._calculateColumnCount(),n._resetCellPositioner(),n._masonry.recomputeCellPositions()},n._renderAutoSizer=function(e){var t=e.height;return n._height=t,r.createElement(a.a,{height:t,onResize:n._onResize},n._renderMasonry)},n._columnCount=0,n._width=0,n._cache=new a.c({}),n}return u(t,e),t.prototype._calculateColumnCount=function(){var e=this.props.columnWidth;this._columnCount=Math.floor(this._width/(e+10))},t.prototype._initCellPositioner=function(){if(void 0===this._cellPositioner){var e=this.props.columnWidth;this._cellPositioner=Object(a.e)({cellMeasurerCache:this._cache,columnCount:this._columnCount,columnWidth:e,spacer:10})}},t.prototype.render=function(){var e=this.props.height;return r.createElement("div",{style:{height:e,width:"100%"}},this._renderAutoSizer({height:e}))},t}(r.PureComponent),p=function(){return(p=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e},v=[{type:"svgBtn",title:"show svg",text:"SVG"},{type:"gifBtn",title:"show gif",text:"GIF"},{type:"jpgBtn",title:"show jpg",text:"JPG"},{type:"pngBtn",title:"show png",text:"PNG"},{type:"bmpBtn",title:"show bmp",text:"BMP"},{type:"iconBtn",title:"show icon",text:"ICON"}],f=["image/svg+xml","image/gif","image/jpeg","image/bmp","image/x-icon","image/png"],d=!0,y={};var w=function(){var e=g(Object(r.useState)([]),2),t=e[0],n=e[1],i=g(Object(r.useState)({svgBtn:!0,gifBtn:!0,jpgBtn:!1,pngBtn:!1,bmpBtn:!1,iconBtn:!1}),2),l=i[0],c=i[1],a=g(Object(r.useState)({width:200,height:200}),2),u=a[0],w=a[1],b=g(Object(r.useState)({width:150,height:150}),2),_=b[0],E=b[1];Object(r.useEffect)((function(){console.log("multi-svgs-viewer actived"),document.querySelector("body")&&(document.querySelector("body").style.overflow="hidden")}),[]),Object(r.useEffect)((function(){var e=l.svgBtn,i=l.gifBtn,r=l.jpgBtn,o=l.pngBtn,c=l.bmpBtn,s=l.iconBtn;t.forEach((function(t){"image/svg+xml"===t.type?t.visible=!!e:"image/gif"===t.type?t.visible=!!i:"image/jpeg"===t.type?t.visible=!!r:"image/bmp"===t.type?t.visible=!!c:"image/x-icon"===t.type?t.visible=!!s:"image/png"===t.type&&(t.visible=!!o)})),console.log("filter changed, files: ",t),n(m(t))}),[l]);var j=Object(r.useCallback)((function(e){console.log("selected files: ",e),e=e.filter((function(e){var t=y[e.type];return y[e.type]=t?t+1:1,-1!==f.indexOf(e.type)})),console.log("mime count",y),y={},e.forEach((function(e){"image/svg+xml"===e.type?e.visible=!!l.svgBtn:"image/gif"===e.type?e.visible=!!l.gifBtn:"image/jpeg"===e.type?e.visible=!!l.jpgBtn:"image/bmp"===e.type?e.visible=!!l.bmpBtn:"image/x-icon"===e.type?e.visible=!!l.iconBtn:"image/png"===e.type&&(e.visible=!!l.pngBtn)})),console.log("available files: ",e),e.length&&(d=!1),n(m(t,e))}),[t]),O=Object(s.a)({onDrop:j}),C=O.getRootProps,x=O.getInputProps,P=O.isDragActive,B=t.filter((function(e){return e.visible})),N=B.length;return o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-show-svg-container"},o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-show-svg-header-container"},o.a.createElement("h2",{className:"svg-viewer-chrome-plugin-css-style-plugin-header-content"},"Multiple SVGS Viewer ",N?"( "+N+" )":""),o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-tool"},v.map((function(e){return o.a.createElement("div",{key:e.type,className:"svg-viewer-chrome-plugin-css-style-file-type-button",style:{backgroundColor:l[e.type]?"#ccc":"#fff",color:l[e.type]?"#fff":"#ccc"},onClick:function(){return function(e){var t;c(p(p({},l),((t={})[e]=!l[e],t)))}(e.type)},title:e.title},e.text)})),o.a.createElement("div",{style:{marginRight:20,cursor:"pointer"},onClick:function(){w({width:u.width+20,height:u.height+20}),E({width:_.width+20,height:_.height+20})},title:"zoom out"},"+"),o.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){100!==u.width&&(w({width:u.width-20,height:u.height-20}),E({width:_.width-20,height:_.height-20}))},title:"zoom in"},"-"))),d?o.a.createElement("div",{title:P?"Drop the files here ...":"Drag some files here, or click to select files"},o.a.createElement("div",p({},C({accept:"image/svg+xml"})),o.a.createElement("input",p({},x())),P?o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-upload-button-init"},"Drop the files here ..."):o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-upload-button-init"},o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-upload-button-init-middle"},o.a.createElement("div",{style:{fontSize:"72px"}},"+"),o.a.createElement("div",{style:{textAlign:"center",fontWeight:600,fontSize:20}},"Drag some files here, or click to select files"))))):o.a.createElement("div",{title:P?"Drop the files here ...":N?"":"Drag some files here, or click to select files",className:"svg-viewer-chrome-plugin-css-style-multi-svg-container-used"},N>1e4?o.a.createElement(h,{height:window.innerHeight-400,columnWidth:u.width,cellCount:N,childElementFunc:function(e,t){var n=B[e];return n?o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-svg-items",style:p(p({},t),{width:u.width,height:u.height})},o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-filename",title:n.name},n.name),o.a.createElement("img",{title:n.name,alt:n.name,style:{height:_.height},className:"svg-viewer-chrome-plugin-css-style-react-svg",src:window.webkitURL.createObjectURL(n)})):null}}):B.map((function(e,t){return o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-svg-items",style:{width:u.width,height:u.height},key:t},o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-filename",title:e.name},e.name),o.a.createElement("img",{title:e.path,alt:e.name,style:{height:_.height},className:"svg-viewer-chrome-plugin-css-style-react-svg",src:window.webkitURL.createObjectURL(e)}))})),o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-svg-items svg-viewer-chrome-plugin-css-style-upload-button-content"},o.a.createElement("div",p({},C()),o.a.createElement("input",p({},x())),P?o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-upload-button-content-border svg-viewer-chrome-plugin-css-style-drop-file-here"},"Drop the files here ..."):o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-upload-button-content-border"},o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-plus"},"+"),o.a.createElement("div",{className:"svg-viewer-chrome-plugin-css-style-plus-text"},"Drag some files here, or click to select files"))))))};window.onload=function(){if("newtab"===location.host||"local-ntp"===location.host||"https://www.zhoushoujian.com/svg/"===location.href||/chrome\-extension/.test(location.origin)){var e=document.createElement("div");e.id="svg-viewer-chrome-plugin",document.body.appendChild(e),c.a.render(o.a.createElement(w,null),document.querySelector("#svg-viewer-chrome-plugin"))}}}});
//# sourceMappingURL=main.bundle.js.map